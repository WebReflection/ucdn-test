import{render,html,svg}from"../../uhtml/esm/index.js";const{define:defineCustomElement}=customElements,{create:create,defineProperties:defineProperties,getOwnPropertyDescriptor:getOwnPropertyDescriptor,keys:keys}=Object,initialized=new WeakMap,element="element",Class=e=>e===element?HTMLElement:document.createElement(e).constructor;export{render,html,svg};export const define=(e,t)=>{const{attachShadow:n,attributeChanged:s,connected:i,disconnected:o,handleEvent:l,init:r,observedAttributes:a}=t,c={},d={},p=[],h=create(null);for(let e=keys(t),n=0,{length:s}=e;n<s;n++){const s=e[n];if(/^on/.test(s)&&!/Options$/.test(s)){const e=t[s+"Options"]||!1,n=s.toLowerCase();let i=n.slice(2);p.push({type:i,options:e}),h[i]=s,n!==s&&(i=n.slice(2,3)+s.slice(3),h[i]=s,p.push({type:i,options:e}))}switch(s){case"attachShadow":case"observedAttributes":break;default:d[s]=getOwnPropertyDescriptor(t,s)}}const{length:u}=p;u&&!l&&(d.handleEvent={value(e){this[h[e.type]](e)}}),a&&(c.observedAttributes={value:a}),d.attributeChangedCallback={value(){b(this),s&&s.apply(this,arguments)}},d.connectedCallback={value(){b(this),i&&i.apply(this,arguments)}},o&&(d.disconnectedCallback={value:o});const m=t.extends||element;class f extends(Class(m)){}defineProperties(f,c),defineProperties(f.prototype,d);const y=[e,f];function b(e){if(!initialized.has(e)){initialized.set(e,0),defineProperties(e,{html:{value:content.bind(n?e.attachShadow(n):e)}});for(let t=0;t<u;t++){const{type:n,options:s}=p[t];e.addEventListener(n,e,s)}r&&r.call(e)}}m!==element&&y.push({extends:m}),defineCustomElement.apply(customElements,y)};function content(){return render(this,html.apply(null,arguments))}