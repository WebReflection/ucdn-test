const e=/([^\s\\>"'=]+)\s*=\s*(['"]?)$/,t=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i,s=/<[a-z][^>]+$/i,$=/>[^<>]*$/,r=/<([a-z]+[a-z0-9:._-]*)([^>]*?)(\/>)/gi,a=/\s+$/,c=(e,t)=>0<t--&&(s.test(e[t])||!$.test(e[t])&&c(e,t)),n=(e,s,$)=>t.test(s)?e:`<${s}${$.replace(a,"")}></${s}>`;export default(t,s,$)=>{const a=[],{length:i}=t;for(let $=1;$<i;$++){const r=t[$-1];a.push(e.test(r)&&c(t,$)?r.replace(e,(e,t,r)=>`${s}${$-1}=${r||'"'}${t}${r?"":'"'}`):`${r}\x3c!--${s}${$-1}--\x3e`)}a.push(t[i-1]);const o=a.join("").trim();return $?o:o.replace(r,n)};