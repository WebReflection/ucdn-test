import{slice}from"../../uarray/esm/index.js";const ELEMENT_NODE=1,nodeType=111,remove=({firstChild:e,lastChild:t})=>{const r=document.createRange();return r.setStartAfter(e),r.setEndAfter(t),r.deleteContents(),e};export const diffable=(e,t)=>111===e.nodeType?1/t<0?t?remove(e):e.lastChild:t?e.valueOf():e.firstChild:e;export const persistent=e=>{const{childNodes:t}=e,{length:r}=t;if(r<2)return t[0];const l=slice.call(t,0);return{ELEMENT_NODE:1,nodeType:111,firstChild:l[0],lastChild:l[r-1],valueOf(){if(t.length!==r){let t=0;for(;t<r;)e.appendChild(l[t++])}return e}}};