import e from"../../umap/esm/index.js";import{Hole as t,createCache as n,unroll as r}from"./rabbit.js";const{create:o,defineProperties:a}=Object,p=e(new WeakMap),s=p=>{const s=e(new WeakMap);return a(((e,...n)=>new t(p,e,n)),{for:{value(e,t){const a=s.get(e)||s.set(e,o(null));return a[t]||(a[t]=(e=>(t,...n)=>r(e,{type:p,template:t,values:n}))(n()))}},node:{value:(e,...t)=>r(n(),{type:p,template:e,values:t}).valueOf()}})};export const html=s("html");export const svg=s("svg");export const render=(e,o)=>{const a="function"==typeof o?o():o,s=p.get(e)||p.set(e,n()),l=a instanceof t?r(s,a):a;return l!==s.wire&&(s.wire=l,e.textContent="",e.appendChild(l.valueOf())),e};